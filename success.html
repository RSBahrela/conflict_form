<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Google OAuth Access Token</title>
</head>
<body>
  <h2>Login and Get Access Token</h2>
  <button id="loginBtn">Login with Google</button>
  <p id="status"></p>

  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    let tokenClient;

    window.onload = function () {
      console.log("Window loaded, initializing token client...");
      tokenClient = google.accounts.oauth2.initTokenClient({
        client_id: "796508457322-8a43tdrrim6pcee4fsl2o421gggm4h4e.apps.googleusercontent.com", // Replace with your client ID
        scope: "https://www.googleapis.com/auth/drive.file",
        callback: (response) => {
          console.log("OAuth Response:", response);
          if (response && response.access_token) {
            document.getElementById("status").innerText =
              "Access Token: " + response.access_token;
            console.log("Access Token:", response.access_token);
          } else {
            document.getElementById("status").innerText =
              "Failed to get access token.";
          }
        },
      });

      document.getElementById("loginBtn").onclick = () => {
        console.log("Login button clicked!");
        tokenClient.requestAccessToken();
      };
    };
  </script>
</body>
</html>
